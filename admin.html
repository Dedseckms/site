<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Панель администратора — LuxEstate</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    .admin-wrap { max-width: 1200px; margin: 0 auto; padding: 2rem; }
    .admin-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem; }
    .admin-title { font-size: 1.5rem; font-weight: 600; }
    .admin-login { max-width: 400px; margin: 4rem auto; padding: 2rem; background: var(--color-bg-elevated); border-radius: var(--radius-lg); }
    .admin-login h1 { margin-bottom: 1.5rem; font-size: 1.5rem; }
    .admin-form { display: flex; flex-direction: column; gap: 1rem; }
    .admin-form .form-group { margin: 0; }
    .admin-nav { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
    .admin-nav button { padding: 0.5rem 1rem; background: var(--color-bg-elevated); border: 1px solid rgba(255,255,255,0.1); color: var(--color-text); border-radius: var(--radius); cursor: pointer; }
    .admin-nav button.active { background: var(--color-accent); color: var(--color-bg); border-color: var(--color-accent); }
    .admin-section { display: none; }
    .admin-section.active { display: block; }
    .admin-table { width: 100%; border-collapse: collapse; }
    .admin-table th, .admin-table td { padding: 1rem; text-align: left; border-bottom: 1px solid rgba(255,255,255,0.06); }
    .admin-table th { color: var(--color-text-muted); font-weight: 500; }
    .admin-actions { display: flex; gap: 0.5rem; }
    .admin-actions button { padding: 0.4rem 0.8rem; font-size: 0.9rem; border: none; border-radius: var(--radius); cursor: pointer; }
    .btn-edit { background: var(--color-accent-subtle); color: var(--color-accent); }
    .btn-delete { background: rgba(255,100,100,0.2); color: #ff6b6b; }
    .admin-modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; padding: 2rem; }
    .admin-modal.active { display: flex; }
    .admin-modal-content { background: var(--color-bg-elevated); padding: 2rem; border-radius: var(--radius-lg); max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto; }
    .admin-modal h2 { margin-bottom: 1.5rem; }
    .admin-modal .form-group { margin-bottom: 1rem; }
    .admin-modal .form-group label { display: block; margin-bottom: 0.5rem; color: var(--color-text-muted); }
    .settings-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem; }
    .settings-item label { display: block; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--color-text-muted); }
    .settings-item input { width: 100%; padding: 0.75rem; background: var(--color-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: var(--radius); color: var(--color-text); }
  </style>
</head>
<body>
  <div id="admin-login" class="admin-login">
    <h1>Вход в панель администратора</h1>
    <p style="color: var(--color-text-muted); font-size: 0.9rem; margin-bottom: 1rem;">Откройте сайт через <strong>http://localhost:3000</strong></p>
    <form class="admin-form" id="login-form">
      <div class="form-group">
        <input type="email" name="email" placeholder="Email (admin@luxestate.ru)" required autocomplete="email">
      </div>
      <div class="form-group">
        <input type="password" name="password" placeholder="Пароль (admin123)" required autocomplete="current-password">
      </div>
      <div id="login-error" style="color: #ff6b6b; font-size: 0.9rem; display: none;"></div>
      <button type="submit" class="btn btn-primary btn-full">Войти</button>
    </form>
  </div>

  <div id="admin-panel" style="display: none;">
    <header class="header scrolled">
      <nav class="nav">
        <a href="index.html" class="logo">LuxEstate Admin</a>
        <span id="admin-user" style="color: var(--color-text-muted);"></span>
        <button class="btn btn-outline" id="logout-btn">Выйти</button>
      </nav>
    </header>
    <main class="page-main">
      <div class="admin-wrap">
        <div class="admin-header">
          <h1 class="admin-title">Панель управления</h1>
        </div>
        <nav class="admin-nav">
          <button data-section="complexes" class="active">Жилые комплексы</button>
          <button data-section="settings">Настройки сайта</button>
          <button data-section="users">Пользователи</button>
        </nav>

        <section id="section-complexes" class="admin-section active">
          <button class="btn btn-primary" id="add-complex-btn">+ Добавить комплекс</button>
          <div style="overflow-x: auto; margin-top: 1rem;">
            <table class="admin-table">
              <thead>
                <tr><th>Название</th><th>Локация</th><th>Цена</th><th>Статус</th><th>Действия</th></tr>
              </thead>
              <tbody id="complexes-list"></tbody>
            </table>
          </div>
        </section>

        <section id="section-settings" class="admin-section">
          <div class="settings-grid" id="settings-grid"></div>
          <button class="btn btn-primary" style="margin-top: 1rem;" id="save-settings-btn">Сохранить настройки</button>
        </section>

        <section id="section-users" class="admin-section">
          <table class="admin-table">
            <thead>
              <tr><th>ID</th><th>Email</th><th>Имя</th><th>Роль</th><th>Регистрация</th></tr>
            </thead>
            <tbody id="users-list"></tbody>
          </table>
        </section>
      </div>
    </main>
  </div>

  <div id="complex-modal" class="admin-modal">
    <div class="admin-modal-content">
      <h2 id="complex-modal-title">Добавить комплекс</h2>
      <form id="complex-form">
        <input type="hidden" id="complex-id">
        <div class="form-group">
          <label>Название</label>
          <input type="text" id="complex-name" required>
        </div>
        <div class="form-group">
          <label>Локация (адрес)</label>
          <input type="text" id="complex-location" required>
        </div>
        <div class="form-group">
          <label>Описание</label>
          <textarea id="complex-description" rows="4" required></textarea>
        </div>
        <div class="form-group">
          <label>Цена от (например: от 45 млн ₽)</label>
          <input type="text" id="complex-price" required>
        </div>
        <div class="form-group">
          <label>Количество комнат</label>
          <input type="text" id="complex-rooms" placeholder="1–4 комнаты" required>
        </div>
        <div class="form-group">
          <label>Статус (Сдача 2026, Новинка и т.д.)</label>
          <input type="text" id="complex-status" required>
        </div>
        <div class="form-group">
          <label>URL изображений (по одному на строку)</label>
          <textarea id="complex-images" rows="3" placeholder="https://..."></textarea>
        </div>
        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
          <button type="submit" class="btn btn-primary">Сохранить</button>
          <button type="button" class="btn btn-outline" id="close-complex-modal">Отмена</button>
        </div>
      </form>
    </div>
  </div>

  <script src="admin.js"></script>
</body>
</html>
